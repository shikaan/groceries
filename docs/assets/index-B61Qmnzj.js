(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const d of e.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function c(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(n){if(n.ep)return;n.ep=!0;const e=c(n);fetch(n.href,e)}})();const m=new Proxy({list:{}},{set(t,s,c){return t[s]=c,E(),location.hash=LZString.compressToEncodedURIComponent(y(m.list)),!0}});function g(t){const s={},c=t.split(`
`),l=c.findIndex(a=>!a.trim()),n=c.slice(0,l),e=c.slice(l+1),d=n.reduce((a,r)=>{const[i,o]=r.split(":");return a[i]=o,s[o]=[],a},{});return e.forEach(a=>{const[r,i,o]=a.split(","),u={name:o,checked:i==="1"};s[d[r]].push(u)}),s}function y(t){const s=Object.keys(t),c=s.map((n,e)=>`${e}:${n}`),l=[];for(const[n,e]of Object.entries(s))t[e].forEach(d=>{l.push(`${n},${d.checked?"1":"0"},${d.name}`)});return`${c.join(`
`)}

${l.join(`
`)}`}const b=document.getElementsByTagName("main")[0];function E(){const t=m.list;b.innerHTML="";for(const[c,l]of Object.entries(t)){const n=document.createElement("section"),e=document.createElement("h3");e.classList.add("name"),e.innerText=c,e.setAttribute("contenteditable","false"),e.addEventListener("pointerup",()=>{e.setAttribute("contenteditable","true"),e.focus()}),e.addEventListener("blur",()=>{const r=e.innerText,i=Object.entries(t).map(([o,u])=>o==c?[r,u]:[o,u]);m.list=Object.fromEntries(i),e.setAttribute("contenteditable","false")});const d=document.createElement("ul");l.forEach(r=>{const i=document.createElement("li"),o=document.createElement("span");o.innerText=r.name,o.setAttribute("contenteditable","false"),o.addEventListener("pointerup",()=>{o.setAttribute("contenteditable","true"),o.focus()}),o.addEventListener("blur",()=>{const p=t[c].findIndex(h=>h.name===r.name);p>-1&&(t[c][p].name=o.innerText,m.list=t),o.setAttribute("contenteditable","false")});const u=document.createElement("button");u.innerText="âŒ",u.addEventListener("click",()=>{t[c]=t[c].filter(p=>p.name!==r.name),m.list=t});const f=document.createElement("input");f.type="checkbox",f.checked=r.checked,f.addEventListener("change",()=>{const p=t[c].findIndex(h=>h.name===r.name);p>-1&&(t[c][p].checked=f.checked,m.list=t)}),i.append(f),i.append(o),i.append(u),d.append(i)});const a=document.createElement("button");a.classList.add("add-item"),a.innerText="Add Item",a.addEventListener("click",()=>{const r=window.prompt("Insert item name");if(r){const i={name:r,checked:!1};t[c].push(i),m.list=t}}),n.append(e),n.append(d),n.append(a),b.append(n)}const s=document.createElement("button");s.classList.add("add-category"),s.innerText="Add Category",s.addEventListener("click",()=>{const c=window.prompt("Insert category name");c&&(t[c]=[],m.list=t)}),b.append(s)}(function(){const t=location.hash.slice(1);if(t){const s=LZString.decompressFromEncodedURIComponent(t);m.list=g(s)}else m.list={};E()})();
